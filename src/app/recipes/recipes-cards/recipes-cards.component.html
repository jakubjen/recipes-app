<h3 class="mb-2">{{ 'Recipes.LatestRecipes' | translate }}</h3>
<div class="row">
	<div class="col-12 col-md-5">
		<label for="seachInput" class="form-label">{{
			'App.Search' | translate
		}}</label>
		<div class="serach-groupe focus-groupe">
			<div class="input-wrapper">
				<input
					type="text"
					class="form-control"
					id="seachInput"
					[placeholder]="'PlaceholderExamples.CardsSearch' | translate"
					appTrim
					(input)="handleTextSearchInput($event)" />
				<div class="icon">
					<i class="bi bi-search"></i>
				</div>
			</div>
			<div ngbDropdown [autoClose]="'outside'" class="d-inline-block">
				<button
					type="button"
					class="btn btn-outline-primary dropdown-button"
					id="dropdownBasic1"
					ngbDropdownToggle>
					Search in
				</button>
				<div ngbDropdownMenu aria-labelledby="dropdownBasic1">
					<button ngbDropdownItem (click)="changeFilterCategories('title')">
						<i
							class="bi bi-check-lg"
							*ngIf="filterCategories.includes('title')"></i>
						Title
					</button>
					<button
						ngbDropdownItem
						(click)="changeFilterCategories('description')">
						<i
							class="bi bi-check-lg"
							*ngIf="filterCategories.includes('description')"></i>
						Description
					</button>
				</div>
			</div>
		</div>
	</div>
	<div class="col-12 col-md-3">
		<label for="sortBySelect" class="form-label">{{
			'App.SortBy' | translate
		}}</label>
		<div class="input-group mb-3 sorting-groupe-buttons focus-groupe">
			<select
				class="form-select"
				id="sortBySelect"
				(change)="selectFileToSort($event)">
				<option
					*ngFor="let category of sortingCategories"
					[value]="category"
					[selected]="sortCategory === category">
					{{ 'Sorting.' + (category | titlecase) | translate }}
				</option>
			</select>
			<button
				class="icon input-group-text"
				[attr.aria-label]="'ArialLabel.ChangeSortingDirection' | translate"
				(click)="changeSortDirection()">
				<i
					class="bi bi-sort-down"
					*ngIf="sortDirection === sortDirectionEnum.ASC"></i>
				<i
					class="bi bi-sort-up"
					*ngIf="sortDirection === sortDirectionEnum.DESC"></i>
			</button>
		</div>
	</div>
</div>
<div class="recipes-cards pb-3 mt-4" *ngIf="recipes$ | async as recipes">
	<div
		class="card-wrapper"
		*ngFor="
			let recipe of recipes
				| filterRecipes: searchText:filterCategories
				| sortRecipes: sortCategory:sortDirection
		">
		<a [routerLink]="getRecipeUrl(recipe)">
			<app-recipe-card
				[recipe]="recipe"
				[enableEllipsis]="true"></app-recipe-card>
		</a>
	</div>
</div>

<div
	class="d-flex justify-content-center mt-3"
	*ngIf="(recipesAreLoaded$ | async) !== dataState.Loaded">
	<div class="spinner-border text-primary" role="status">
		<span class="visually-hidden">{{ 'App.Loading' | translate </span>
	</div>
</div>
